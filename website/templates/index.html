<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <!-- Icon by Freepik https://www.flaticon.com/authors/freepik -->
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <meta charset="UTF-8">
    <title>Derivify</title>
</head>
<body>
    <div class="container text-center">
        <h1 class="p-3 mt-3">Derivify</h1>
        <div class="justify-content-center">
            <p>Please upload a black & white image!</p>
            <form action="/derivify" method="POST" enctype="multipart/form-data">
                <input type="file" id="file" name="file" accept="*" />
                <br>
                <button type="submit" class="btn btn-outline-primary mt-3">Upload</button>
            </form>
            <canvas id="canvas" width="600" height="300" class="border mt-3"></canvas>
            <script src="{{ url_for('static', filename='canvas.js') }}"></script>
            <br>
            <button id="clearCanvas" class="btn btn-outline-danger mt-3">Clear</button>
            <button id="uploadCanvas" class="btn btn-outline-primary mt-3">Derivify!</button>
        </div>

        <img src="{{ url_for('get_image', filename='user_image.png') }}" onerror="this.style.visibility = 'hidden'" style="width: 300px">

        {% for file in files %}
            {% if 'deriv' in file and '.png' in file %}
                <img src="{{ url_for('get_image', filename=file) }}" onerror="this.style.visibility = 'hidden'" style="width: 300px">
            {% endif %}
        {% endfor %}

        <footer class="footer text-muted mt-3 mb-4">
            <p>Made with ❤️ by <a href="https://github.com/KevinL10">vEvergarden</a>.</p>
        </footer>
    </div>
</body>
</html>